<div class="profile-wrapper" *ngIf="userProfile$ | async as user; else loading">
  <div class="profile-card">
    <h2 class="profile-title">ðŸ‘¤ Mi Perfil</h2>
    <div class="profile-info">
      <div class="info-row">
        <span class="info-label">Nombre completo:</span>
        <span class="info-value">{{ user.nombre }} {{ user.apellido }}</span>
      </div>
      <div class="info-row">
        <span class="info-label">Correo electrÃ³nico:</span>
        <span class="info-value">{{ user.email }}</span>
      </div>
      <div class="info-row">
        <span class="info-label">Fecha de nacimiento:</span>
        <span class="info-value">{{ user.fecha_nacimiento | date: 'dd/MM/yyyy' }}</span>
      </div>
      <div class="info-row">
        <span class="info-label">UbicaciÃ³n:</span>
        <span class="info-value">{{ user.ciudad }}, {{ user.pais }}</span>
      </div>
      <div class="info-row balance-row">
        <span class="info-label">Saldo disponible:</span>
        <span class="info-value balance">
          {{ saldoDisponible | currency:'CLP':'symbol-narrow':'1.0-0' }}
        </span>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="loading-container">
    <div class="spinner"></div>
    <p class="loading-text">Cargando perfil...</p>
  </div>
</ng-template>